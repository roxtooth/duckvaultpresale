(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{7276:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1225)}])},1225:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>j});var r={};n.r(r);var a=n(4848),s=n(3368),l=n.n(s),o=n(6540),c=n(6874),i=n(4896),d=n(5403);let u=(0,c.sX)({adapters:[new i.k],networks:[d.rCZ],metadata:{name:"DuckVault",description:"Scrooge $DuckVault Presale",url:"https://narrow-ocean-deep.on-fleek.app/",icons:["https://narrow-ocean-deep.on-fleek.app/logo.png"]},projectId:"6ee1f35a236bb1fdb857ed0bfb2d8d2f",features:{analytics:!0,walletConnect:!0}});var p=n(4824);let f=async()=>{try{if(!u)return console.error("Reown AppKit is not initialized."),{address:null};let e=await u.open();if(!e)return console.error("Wallet provider is undefined. Please retry."),{address:null};let t=new p.j(e,"any").getSigner();return{address:await t.getAddress()}}catch(e){return console.error("Wallet Connection Error:",e),{address:null}}};function h(){let[e,t]=(0,o.useState)("");return(0,o.useEffect)(()=>{(async function(){let e=await f();e&&e.address?t(e.address):console.error("No wallet address found.")})()},[]),(0,a.jsxs)("nav",{className:"nav",children:[(0,a.jsx)("h1",{children:"Scrooge $DuckVault Presale"}),(0,a.jsx)("button",{onClick:f,children:e?e.substring(0,6)+"..."+e.slice(-4):"Connect Wallet"})]})}function w(e){let{progress:t}=e;return(0,a.jsx)("div",{className:"progress-container",children:(0,a.jsxs)("div",{className:"progress-bar",style:{width:"".concat(t,"%")},children:[t,"%"]})})}function g(){let[e,t]=(0,o.useState)(""),[n,s]=(0,o.useState)(1),[l,c]=(0,o.useState)(0),[i,d]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{(async function(){if(!(await f()).address){console.error("Wallet not connected. Cannot fetch presale data.");return}d(!0),s(await (0,r.getPresaleStage)()),c(await (0,r.getTokenSoldPercentage)())})()},[]),(0,a.jsxs)("div",{className:"presale-container",children:[(0,a.jsx)("h2",{children:"Scrooge $DuckVault Token Presale"}),(0,a.jsxs)("p",{children:["Current Stage: ",i?n:"Connect Wallet First"]}),(0,a.jsx)(w,{progress:l}),(0,a.jsx)("input",{type:"number",placeholder:"Amount",value:e,onChange:e=>t(e.target.value)}),(0,a.jsx)("button",{onClick:()=>buyTokens(e),disabled:!i,children:i?"Buy Now":"Connect Wallet First"})]})}function j(){return(0,a.jsxs)("div",{children:[(0,a.jsxs)(l(),{children:[(0,a.jsx)("title",{children:"Scrooge $DuckVault Presale"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),(0,a.jsx)(h,{}),(0,a.jsx)(g,{})]})}},7790:()=>{},3776:()=>{},9368:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[69,636,593,792],()=>t(7276)),_N_E=e.O()}]);